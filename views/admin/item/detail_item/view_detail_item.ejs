<!-- halaman ini dapat dilihat karena dilakukan render pada folder controller file adminController.js -->

<%- include('../../../partials/header.ejs') %>

<!-- Page Wrapper -->
<div id="wrapper" style="background-color: rgb(255, 255, 255)">
  <%- include('../../../partials/sidebar.ejs') %>

  <!-- Content Wrapper -->
  <div id="content-wrapper" class="d-flex flex-column">
    <!-- Main Content -->
    <div id="content">
      <%- include('../../../partials/navbar.ejs') %>

      <!-- Begin Page Content -->
      <div class="container-fluid">
        <!-- Page Heading -->
        <h1 class="h3 mb-4 text-center text-gray-600">Detail Item</h1>

        <%- include('../../../partials/message.ejs') %>

        <ul class="nav nav-tabs mt-3 mb-3" id="myTab" role="tablist">
          <li class="nav-item" role="presentation">
            <button
              class="nav-link active ml-3 mr-3"
              id="home-tab"
              data-toggle="tab"
              data-target="#show-feature"
              type="button"
              role="tab"
              aria-controls="home"
              aria-selected="true"
            >
              Show Feature
            </button>
          </li>
          <li class="nav-item" role="presentation">
            <button
              class="nav-link"
              id="profile-tab"
              data-toggle="tab"
              data-target="#show-activity"
              type="button"
              role="tab"
              aria-controls="profile"
              aria-selected="false"
            >
              Show Activity
            </button>
          </li>
        </ul>

        <div class="tab-content" id="myTabContent">
          <%- include('show_feature.ejs') %> <%- include('show_activity.ejs') %>
        </div>
      </div>
      <!-- /.container-fluid -->
    </div>
    <!-- End of Main Content -->

    <%- include('../../../partials/footer.ejs') %>
  </div>
  <!-- End of Content Wrapper -->
</div>
<!-- End of Page Wrapper -->

<!-- Scroll to Top Button-->
<a class="scroll-to-top rounded" href="#page-top">
  <i class="fas fa-angle-up"></i>
</a>

<!-- Logout Modal-->
<div
  class="modal fade"
  id="logoutModal"
  tabindex="-1"
  role="dialog"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Ready to Leave?</h5>
        <button
          class="close"
          type="button"
          data-dismiss="modal"
          aria-label="Close"
        >
          <span aria-hidden="true">Ã—</span>
        </button>
      </div>
      <div class="modal-body">
        Select "Logout" below if you are ready to end your current session.
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" type="button" data-dismiss="modal">
          Cancel
        </button>
        <a class="btn btn-primary" href="login.html">Logout</a>
      </div>
    </div>
  </div>
</div>

<%- include('show_modal_activity.ejs') %> <%- include('show_modal_feature.ejs')
%> <%- include('../../../partials/js.ejs') %>

<!-- untuk menampilkan dek editor pada colom Description pada views folder item file add_item.ejs   -->
<!-- script ini tersambung pada https://cdn.ckeditor.com/4.14.0/standard/ckeditor.js di folder partials file js.ejs -->
<script>
  // menampilkan modal pd file show_activity.ejs
  $(document).ready(function () {
    $("#dataTableActivity").DataTable();
  });
  CKEDITOR.replace("about");

  // mengaktifkan modal edit feature pada button edit
  // #dataTable dan .button-update connect ke file show_activity.ejs
  $("#dataTableActivity").on("click", ".button-update-activity", function () {
    let id = $(this).data("id");
    let name = $(this).data("name");
    let type = $(this).data("type");
    $("#edit-modal-activity").modal("show");
    // mengirim let id dan let name melalui class , val artinya value
    $(".id").val(id);
    $(".name").val(name);
    $(".type").val(type);
  });

  // mengaktifkan modal edit feature pada button edit
  // #dataTable dan .button-update connect ke file show_feature.ejs
  $("#dataTableFeature").on("click", ".button-update-feature", function () {
    let id = $(this).data("id");
    let name = $(this).data("name");
    let qty = $(this).data("qty");
    $("#edit-modal-feature").modal("show");
    // mengirim let id dan let name melalui class , val artinya value
    $(".id").val(id);
    $(".name").val(name);
    $(".qty").val(qty);
  });
</script>
